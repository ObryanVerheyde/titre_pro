function reset(){$(".dealer-cards").html("<div class='card card1'></div><div class='card card2 flipped'></div><div class='new-cards'></div><div class='clear'></div><div id='dealerTotal' class='dealer-total'></div>");$(".player-cards").html("<div class='card card1'></div><div class='card card2'></div><div class='new-cards'></div><div class='clear'></div><div id='playerTotal' class='player-total'></div>");var a="<div class='btn' id='hit'>Carte</div><div class='btn' id='stand'>Passer</div>";$(".buttons").html(a);$(".dealer-cards").css("width","");$(".player-cards").css("width","");$("#playerTotal").html("");$("#dealerTotal").html("");$("#message").html("")}function deal(){reset();var c=["ace-of-clubs","two-of-clubs","three-of-clubs","four-of-clubs","five-of-clubs","six-of-clubs","seven-of-clubs","eight-of-clubs","nine-of-clubs","ten-of-clubs","jack-of-clubs","queen-of-clubs","king-of-clubs","ace-of-spades","two-of-spades","three-of-spades","four-of-spades","five-of-spades","six-of-spades","seven-of-spades","eight-of-spades","nine-of-spades","ten-of-spades","jack-of-spades","queen-of-spades","king-of-spades","ace-of-hearts","two-of-hearts","three-of-hearts","four-of-hearts","five-of-hearts","six-of-hearts","seven-of-hearts","eight-of-hearts","nine-of-hearts","ten-of-hearts","jack-of-hearts","queen-of-hearts","king-of-hearts","ace-of-diamonds","two-of-diamonds","three-of-diamonds","four-of-diamonds","five-of-diamonds","six-of-diamonds","seven-of-diamonds","eight-of-diamonds","nine-of-diamonds","ten-of-diamonds","jack-of-diamonds","queen-of-diamonds","king-of-diamonds"];var a=[11,2,3,4,5,6,7,8,9,10,10,10,10,11,2,3,4,5,6,7,8,9,10,10,10,10,11,2,3,4,5,6,7,8,9,10,10,10,10,11,2,3,4,5,6,7,8,9,10,10,10,10];var d=0;$(".dealer-cards .card").each(function(){var f=Math.floor(Math.random()*c.length);var e=c[f];$(this).addClass(e);$(this).attr("data-value",a[f]);d=parseInt(d)+parseInt(a[f]);if(d>21){$(".dealer-cards .card").each(function(){if($(this).attr("data-value")==11){d=parseInt(d)-10;$(this).attr("data-value",1)}})}$("#dealerTotal").html(d);c.splice(f,1);a.splice(f,1)});var b=0;$(".player-cards .card").each(function(){var f=Math.floor(Math.random()*c.length);var e=c[f];$(this).addClass(e);$(this).attr("data-value",a[f]);b=parseInt(b)+parseInt(a[f]);if(b>21){$(".player-cards .card").each(function(){if($(this).attr("data-value")==11){b=parseInt(b)-10;$(this).attr("data-value",1)}})}$("#playerTotal").html(b);c.splice(f,1);a.splice(f,1)});$("#hit").click(function(){var g=Math.floor(Math.random()*c.length);var e=c[g];var f="<div class='card "+e+"' data-value='"+a[g]+"'></div>";$(".player-cards .new-cards").append(f);b=parseInt(b)+parseInt(a[g]);if(b>21){$(".player-cards .card").each(function(){if($(this).attr("data-value")==11){b=parseInt(b)-10;$(this).attr("data-value",1)}})}c.splice(g,1);a.splice(g,1);$("#playerTotal").html(b);$(".player-cards").width($(".player-cards").width()+84);if(b>21){$("#message").html("Bust!");var h="<div class='btn' id='deal'>Deal</div>";$(".buttons").html(h);$("#bet").html("0");return false}});$("#stand").click(function(){$("#dealerTotal").css("visibility","visible");$(".card2").removeClass("flipped");var e=setInterval(function(){var h=$("#dealerTotal").html();var k=$("#playerTotal").html();if(h>21){$(".dealer-cards .card").each(function(){if($(this).attr("data-value")==11&&h>21){h=parseInt(h)-10;$(this).attr("data-value",1)}})}if(h>21){$("#message").html("Dealer Bust!");var l="<div class='btn' id='deal'>Deal</div>";$(".buttons").html(l);clearInterval(e);var g=$("#bet").html();var f=$("#money").html();var i=g*2;$("#bet").html("0");$("#money").html(parseInt(i)+parseInt(f));return false}if(h>=17){if(k>h){$("#message").html("You Win!");var g=$("#bet").html();var f=$("#money").html();var i=g*2;$("#bet").html("0");$("#money").html(parseInt(i)+parseInt(f))}if(k<h){$("#message").html("You Lose!");var g=$("#bet").html();var f=$("#money").html();$("#bet").html("0");$("#money").html(parseInt(f)-parseInt(g))}if(k==h){$("#message").html("Push!");var g=$("#bet").html();var f=$("#money").html();$("#money").html(parseInt(g)+parseInt(f));$("#bet").html("0")}var l="<div class='btn' id='deal'>Deal</div>";$(".buttons").html(l);clearInterval(e);return false}var j=Math.floor(Math.random()*c.length);var n=c[j];var m="<div class='card "+n+"' data-value='"+a[j]+"'></div>";$(".dealer-cards .new-cards").append(m);h=parseInt(h)+parseInt(a[j]);$("#dealerTotal").html(h);$(".dealer-cards").width($(".dealer-cards").width()+84);c.splice(j,1);a.splice(j,1)},300)})}$(document).ready(function(){deal();$("#more").click(function(){var a=10;var c=$("#bet").html();var b=$("#money").html();if(b==0){return false}if(c){$("#bet").html(parseInt(c)+a)}else{$("#bet").html(a)}$("#money").html(b-a)});$("#less").click(function(){var a=-10;var c=$("#bet").html();if(c==0){return false}var b=$("#money").html();if(c){$("#bet").html(parseInt(c)+a)}else{$("#bet").html(a)}$("#money").html(b-a)});setInterval(function(){$("#deal").unbind("click");$("#deal").click(function(){deal()})},200)});